// یک محیط شبیه‌ساز مدرن شبیه CodePen با حالت تک‌زبانه و ترکیبی import { useState } from 'react'; import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"; import { Button } from "@/components/ui/button"; import { Textarea } from "@/components/ui/textarea"; import { Card } from "@/components/ui/card";

export default function CodePlayground() { const [html, setHtml] = useState("<!-- HTML code here -->"); const [css, setCss] = useState("/* CSS code here */"); const [js, setJs] = useState("// JavaScript code here"); const [languageMode, setLanguageMode] = useState("combo"); const [output, setOutput] = useState("");

const compileCode = () => { if (languageMode === "combo") { const fullOutput = <html> <style>${css}</style> <body> ${html} <script>${js}<\/script> </body> </html>; setOutput(fullOutput); } else if (languageMode === "html") { setOutput(html); } else if (languageMode === "css") { setOutput(<style>${css}</style>); } else if (languageMode === "js") { setOutput(<script>${js}<\/script>); } };

const downloadProject = () => { const blob = new Blob([output], { type: "text/html" }); const url = URL.createObjectURL(blob); const a = document.createElement("a"); a.href = url; a.download = project_${Date.now()}.html; a.click(); };

return ( <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black text-white p-2"> <div className="flex justify-between items-center mb-2"> <select value={languageMode} onChange={(e) => setLanguageMode(e.target.value)} className="bg-gray-800 p-2 rounded" > <option value="combo">HTML/CSS/JS</option> <option value="html">HTML</option> <option value="css">CSS</option> <option value="js">JavaScript</option> </select> <div className="space-x-2"> <Button onClick={compileCode}>▶ استارت</Button> <Button onClick={downloadProject}>⬇ دانلود خروجی</Button> </div> </div>

<div className="grid grid-cols-1 lg:grid-cols-2 gap-4">
    <Card className="bg-black p-2">
      {languageMode === "combo" || languageMode === "html" ? (
        <>
          <label>HTML</label>
          <Textarea rows={5} value={html} onChange={(e) => setHtml(e.target.value)} />
        </>
      ) : null}
      {languageMode === "combo" || languageMode === "css" ? (
        <>
          <label>CSS</label>
          <Textarea rows={5} value={css} onChange={(e) => setCss(e.target.value)} />
        </>
      ) : null}
      {languageMode === "combo" || languageMode === "js" ? (
        <>
          <label>JavaScript</label>
          <Textarea rows={5} value={js} onChange={(e) => setJs(e.target.value)} />
        </>
      ) : null}
    </Card>

    <Card className="bg-white text-black p-2 min-h-[400px]">
      <iframe
        className="w-full h-full border-none"
        title="Preview"
        sandbox="allow-scripts allow-same-origin"
        srcDoc={output}
      />
    </Card>
  </div>
</div>

); }

