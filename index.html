<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web Code Runner</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #111;
      color: white;
    }
    header {
      background: #222;
      padding: 10px;
      text-align: center;
      font-size: 1.2em;
      border-bottom: 4px solid red;
    }
    #container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      height: 100vh;
    }
    #editors, #preview {
      padding: 10px;
      overflow: auto;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-bottom: 10px;
      background: #222;
      color: white;
      border: none;
      resize: vertical;
      padding: 8px;
      font-family: monospace;
    }
    iframe {
      width: 100%;
      height: 100%;
      background: white;
      border: 2px solid #555;
    }
    select, button {
      margin: 5px;
      padding: 10px;
      background: #444;
      color: white;
      border: none;
      cursor: pointer;
    }
    .buttons {
      text-align: center;
      margin: 10px;
    }
  </style>
</head>
<body>
  <header>ğŸ–¥ï¸ Ù…Ø­ÛŒØ· Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯ Ø¢Ù†Ù„Ø§ÛŒÙ†</header>
  <div class="buttons">
    <select id="language">
      <option value="html">HTML</option>
      <option value="python">Python</option>
      <option value="css">CSS</option>
      <option value="js">JavaScript</option>
    </select>
    <button onclick="runCode()">â–¶ï¸ Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯</button>
    <button onclick="downloadScreenshot()">ğŸ“¸ Ø°Ø®ÛŒØ±Ù‡ Ø¹Ú©Ø³ Ø®Ø±ÙˆØ¬ÛŒ</button>
    <button onclick="recordVideo()">ğŸ¥ Ø°Ø®ÛŒØ±Ù‡ ÙˆÛŒØ¯ÛŒÙˆ Ø®Ø±ÙˆØ¬ÛŒ</button>
  </div>
  <div id="container">
    <div id="editors">
      <textarea id="html" placeholder="Ú©Ø¯ HTML...">
<h1>Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§!</h1></textarea>
      <textarea id="css" placeholder="Ú©Ø¯ CSS...">
body { background: lightblue; }</textarea>
      <textarea id="js" placeholder="Ú©Ø¯ JavaScript...">
console.log('JS ÙØ¹Ø§Ù„ Ø´Ø¯!')</textarea>
      <textarea id="python" style="display:none;" placeholder="Ú©Ø¯ Python...">
print('Hello from Python!')</textarea>
    </div>
    <div id="preview">
      <iframe id="output"></iframe>
    </div>
  </div>
  <script>
    const output = document.getElementById('output');function runCode() {
  const lang = document.getElementById('language').value;
  if (lang === 'python') {
    const pyCode = document.getElementById('python').value;
    output.srcdoc = `<pre style='color:lime;'>${pyCode.replace(/</g, '&lt;')}</pre>`;
  } else {
    const html = document.getElementById('html').value;
    const css = document.getElementById('css').value;
    const js = document.getElementById('js').value;
    const code = `
      <style>${css}</style>
      ${html}
      <script>${js}<\/script>
    `;
    output.srcdoc = code;
  }
}

function downloadScreenshot() {
  html2canvas(output.contentDocument.body).then(canvas => {
    const link = document.createElement('a');
    link.download = 'output.png';
    link.href = canvas.toDataURL();
    link.click();
  });
}

function recordVideo() {
  const stream = output.contentWindow.document.body.captureStream(30);
  const recorder = new MediaRecorder(stream);
  const chunks = [];
  recorder.ondataavailable = e => chunks.push(e.data);
  recorder.onstop = () => {
    const blob = new Blob(chunks, { type: 'video/webm' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);
    link.download = 'output.webm';
    link.click();
  };
  recorder.start();
  setTimeout(() => recorder.stop(), 90000); // 90 Ø«Ø§Ù†ÛŒÙ‡ Ø¶Ø¨Ø·
}

document.getElementById('language').addEventListener('change', (e) => {
  const show = e.target.value;
  ['html','css','js','python'].forEach(id => {
    document.getElementById(id).style.display = show === id ? 'block' : (show === 'python' ? (id === 'python' ? 'block' : 'none') : (id === 'python' ? 'none' : 'block'));
  });
});

  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</body>
</html>
