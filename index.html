<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Web Code Editor</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #1e1e1e;
      color: #fff;
    }
    header {
      background: #333;
      padding: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .editor-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      height: 90vh;
    }
    .editor {
      display: flex;
      flex-direction: column;
      padding: 10px;
    }
    textarea {
      flex: 1;
      margin: 5px 0;
      background: #2d2d2d;
      color: #00ff90;
      border: none;
      padding: 10px;
      font-family: monospace;
      font-size: 14px;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: 4px solid #ff4444;
      background: #fff;
    }
    .buttons {
      margin-top: 5px;
      display: flex;
      gap: 5px;
    }
    button {
      padding: 6px 10px;
      background: #0077cc;
      color: white;
      border: none;
      cursor: pointer;
      border-radius: 6px;
    }
    select {
      padding: 5px;
      background: #444;
      color: #fff;
      border: none;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <header>
    <div>
      <label for="mode">ğŸ—‚ Ø­Ø§Ù„Øª:</label>
      <select id="mode" onchange="switchMode()">
        <option value="multi">ğŸ‘¨â€ğŸ’» Ø³Ù‡ Ø²Ø¨Ø§Ù†Ù‡ (HTML/CSS/JS)</option>
        <option value="html">ğŸŒ HTML</option>
        <option value="css">ğŸ¨ CSS</option>
        <option value="js">âš™ï¸ JS</option>
        <option value="python">ğŸ Python (Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ)</option>
      </select>
    </div>
    <div class="buttons">
      <button onclick="runCode()">â–¶ Ø§Ø¬Ø±Ø§ÛŒ Ú©Ø¯</button>
      <button onclick="downloadImage()">ğŸ“· Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø¹Ú©Ø³</button>
      <button onclick="downloadVideo()">ğŸ¥ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙˆÛŒØ¯ÛŒÙˆ</button>
    </div>
  </header>  <div class="editor-container">
    <div class="editor" id="editors">
      <textarea id="html" placeholder="HTML Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."><h1>Hello</h1></textarea>
      <textarea id="css" placeholder="CSS Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...">h1 { color: red; }</textarea>
      <textarea id="js" placeholder="JS Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...">console.log('Hi')</textarea>
      <textarea id="python" placeholder="Ú©Ø¯ Ù¾Ø§ÛŒØªÙˆÙ†..." style="display:none;">print("Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§")</textarea>
    </div>
    <iframe id="preview"></iframe>
  </div>  <script>
    function switchMode() {
      const mode = document.getElementById('mode').value;
      const html = document.getElementById('html');
      const css = document.getElementById('css');
      const js = document.getElementById('js');
      const py = document.getElementById('python');

      html.style.display = css.style.display = js.style.display = py.style.display = 'none';

      if (mode === 'multi') {
        html.style.display = css.style.display = js.style.display = 'block';
      } else if (mode === 'html') {
        html.style.display = 'block';
      } else if (mode === 'css') {
        css.style.display = 'block';
      } else if (mode === 'js') {
        js.style.display = 'block';
      } else if (mode === 'python') {
        py.style.display = 'block';
      }
    }

    function runCode() {
      const mode = document.getElementById('mode').value;
      const iframe = document.getElementById('preview');
      const html = document.getElementById('html').value;
      const css = document.getElementById('css').value;
      const js = document.getElementById('js').value;
      const py = document.getElementById('python').value;

      if (mode === 'python') {
        iframe.srcdoc = `<html><body><pre style='color:green;'>${py.replaceAll('<', '&lt;')}</pre></body></html>`;return;
  }

  const content = `
    <html>
      <head><style>${mode === 'multi' || mode === 'css' ? css : ''}</style></head>
      <body>
        ${mode === 'multi' || mode === 'html' ? html : ''}
        <script>${mode === 'multi' || mode === 'js' ? js : ''}<\/script>
      </body>
    </html>
  `;
  iframe.srcdoc = content;
}

function downloadImage() {
  html2canvas(document.getElementById('preview')).then(canvas => {
    const link = document.createElement('a');
    link.download = 'output.png';
    link.href = canvas.toDataURL();
    link.click();
  });
}

function downloadVideo() {
  const preview = document.getElementById('preview');
  const stream = preview.contentWindow.document.body.captureStream();
  const recorder = new MediaRecorder(stream);
  const chunks = [];

  recorder.ondataavailable = e => chunks.push(e.data);
  recorder.onstop = () => {
    const blob = new Blob(chunks, { type: 'video/webm' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'output.webm';
    a.click();
  };

  recorder.start();
  setTimeout(() => recorder.stop(), 5000); // 5 Ø«Ø§Ù†ÛŒÙ‡ ÙÛŒÙ„Ù… Ø¶Ø¨Ø· Ø´ÙˆØ¯
}

window.onload = runCode;

  </script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</body>
</html>
