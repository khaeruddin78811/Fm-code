// ✅ نسخه ارتقاء یافته محیط شبیه‌سازی برنامه‌نویسی

import React, { useState } from 'react'; import { Tabs, Tab } from '@/components/ui/tabs'; import { Button } from '@/components/ui/button'; import { Textarea } from '@/components/ui/textarea'; import { Input } from '@/components/ui/input'; import { Card, CardContent } from '@/components/ui/card'; import { ScrollArea } from '@/components/ui/scroll-area'; import { Download, UploadCloud, PlayCircle, Menu } from 'lucide-react'; import { motion } from 'framer-motion';

export default function CodePlayground() { const [html, setHtml] = useState('<h1>Hello</h1>'); const [css, setCss] = useState('h1 { color: red; }'); const [js, setJs] = useState('console.log("hello")'); const [output, setOutput] = useState(''); const [menuOpen, setMenuOpen] = useState(false);

const runCode = () => { const code =  <html> <head> <style>${css}</style> </head> <body> ${html} <script>${js}<\/script> </body> </html>; setOutput(code); };

return ( <div className="bg-gradient-to-br from-slate-900 to-black min-h-screen text-white p-2"> <div className="flex justify-between items-center mb-2"> <div className="flex gap-2 items-center"> <Button variant="ghost" size="icon" onClick={() => setMenuOpen(!menuOpen)}> <Menu /> </Button> {menuOpen && ( <div className="absolute top-12 left-2 bg-slate-800 rounded-xl shadow-lg p-4 text-sm w-64 z-50"> <p className="mb-2 font-bold">منو</p> <ul className="space-y-1"> <li>درباره ما</li> <li>راهنما</li> <li>تماس با ما</li> <li>تنظیمات شخصی‌سازی</li> <li>آپلود پروژه</li> <li>دانلود پروژه</li> </ul> </div> )} </div> <Button onClick={runCode} className="bg-green-600 text-white hover:bg-green-700 flex items-center gap-1"> <PlayCircle size={18} /> اجرا کن </Button> </div>

<Tabs defaultValue="html" className="grid grid-cols-1 lg:grid-cols-3 gap-2">
    <Tab value="html" label="HTML">
      <Textarea rows={15} value={html} onChange={(e) => setHtml(e.target.value)} className="bg-slate-800 font-mono text-xs border-l-4 border-red-500 shadow-inner" placeholder="کد HTML..." />
    </Tab>
    <Tab value="css" label="CSS">
      <Textarea rows={15} value={css} onChange={(e) => setCss(e.target.value)} className="bg-slate-800 font-mono text-xs border-l-4 border-blue-500 shadow-inner" placeholder="کد CSS..." />
    </Tab>
    <Tab value="js" label="JavaScript">
      <Textarea rows={15} value={js} onChange={(e) => setJs(e.target.value)} className="bg-slate-800 font-mono text-xs border-l-4 border-yellow-500 shadow-inner" placeholder="کد JS..." />
    </Tab>
  </Tabs>

  <Card className="rounded-2xl mt-4 overflow-hidden shadow-2xl border border-slate-700" style={{ height: '45vh' }}>
    <CardContent className="bg-black h-full">
      <iframe
        title="output"
        srcDoc={output}
        sandbox="allow-scripts"
        frameBorder="0"
        className="w-full h-full"
      />
    </CardContent>
  </Card>
</div>

); }

  
